"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/account/account.tsx":
/*!********************************************!*\
  !*** ./src/components/account/account.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountView: function() { return /* binding */ AccountView; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var near_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! near-api-js */ \"(app-pages-browser)/./node_modules/near-api-js/lib/browser-index.js\");\n/* harmony import */ var near_api_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(near_api_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _account_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./account.module.css */ \"(app-pages-browser)/./src/components/account/account.module.css\");\n/* harmony import */ var _account_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_account_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _context_near_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/context/near-context */ \"(app-pages-browser)/./src/context/near-context.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/config */ \"(app-pages-browser)/./src/config.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction getToken(network) {\n    switch(network){\n        case \"ethereum\":\n            return \"ETH\";\n        case \"bitcoin\":\n            return \"BTC\";\n        default:\n            return \"NEAR\";\n    }\n}\nconst AccountView = (param)=>{\n    let { account, onBalanceUpdate } = param;\n    _s();\n    const { wallet, ethereum, bitcoin } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context_near_context__WEBPACK_IMPORTED_MODULE_5__.NearContext);\n    const [balance, setBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [usd, setUsd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const updateBalance = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async function() {\n        let initialLoad = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        if (initialLoad) setLoading(true);\n        try {\n            let balance = \"\";\n            switch(account.network){\n                case \"near\":\n                    if (wallet) {\n                        const nearBalance = await wallet.getBalance(account.id);\n                        balance = near_api_js__WEBPACK_IMPORTED_MODULE_2__.utils.format.formatNearAmount(nearBalance, 4);\n                    }\n                    break;\n                case \"ethereum\":\n                    if (ethereum) {\n                        const ethBalance = await ethereum.getBalance(account.id);\n                        balance = ethBalance.toString();\n                    }\n                    break;\n                case \"bitcoin\":\n                    if (bitcoin) {\n                        const btcBalance = await bitcoin.getBalance(account.id);\n                        balance = btcBalance.toString();\n                    }\n                    break;\n            }\n            setBalance(balance);\n        } catch (error) {\n            console.warn(error);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        account,\n        wallet,\n        ethereum,\n        bitcoin\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        updateBalance(true);\n        const interval = setInterval(updateBalance, 5000);\n        return ()=>clearInterval(interval);\n    }, [\n        updateBalance\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (balance === \"\") return;\n        const apiUrl = \"\".concat(_config__WEBPACK_IMPORTED_MODULE_6__.FiatConvertAPI).concat(getToken(account.network), \"/usd?amount=\").concat(balance);\n        fetch(apiUrl).then((response)=>response.json()).then((data)=>{\n            if (data.status === \"success\") {\n                const formattedUsd = parseFloat(data.USD).toFixed(2);\n                console.log(formattedUsd);\n                setUsd(formattedUsd);\n            } else {\n                setUsd(\"0\");\n            }\n            onBalanceUpdate(account.id, data.USD);\n        }).catch(()=>setUsd(\"0\"));\n    }, [\n        balance\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().account),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().logo),\n                src: \"/\".concat(account.network, \".svg\"),\n                alt: account.network,\n                width: \"32\",\n                height: \"32\"\n            }, void 0, false, {\n                fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountInfo),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountName),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountNamePrimary),\n                                children: account.network === \"near\" ? account.id : account.name\n                            }, void 0, false, {\n                                fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                                lineNumber: 96,\n                                columnNumber: 11\n                            }, undefined),\n                            account.network !== \"near\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountNameSecondary),\n                                children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.trimAddress)(account.id)\n                            }, void 0, false, {\n                                fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                                lineNumber: 99,\n                                columnNumber: 42\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().network),\n                        children: account.network\n                    }, void 0, false, {\n                        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                lineNumber: 94,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"\".concat((_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountBalanceWrapper), \" \").concat(loading && \"loading\"),\n                children: [\n                    !loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountBalance),\n                        children: balance\n                    }, void 0, false, {\n                        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 22\n                    }, undefined),\n                    !loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: (_account_module_css__WEBPACK_IMPORTED_MODULE_4___default().accountUsd),\n                        children: \"USD \".concat(usd)\n                    }, void 0, false, {\n                        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 22\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"spinner\"\n                    }, void 0, false, {\n                        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n                lineNumber: 103,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/albertoelias/code/tests/near-hub-demo/src/components/account/account.tsx\",\n        lineNumber: 92,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AccountView, \"dexJ2LFJx7WYvO1PC9NMF3mX+SM=\");\n_c = AccountView;\nvar _c;\n$RefreshReg$(_c, \"AccountView\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvYWNjb3VudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDakM7QUFDTDtBQUVXO0FBQ1c7QUFFWDtBQUNBO0FBRTFDLFNBQVNVLFNBQVNDLE9BQWU7SUFDL0IsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1Q7WUFDRSxPQUFPO0lBQ1g7QUFDRjtBQUVPLE1BQU1DLGNBQWM7UUFBQyxFQUMxQkMsT0FBTyxFQUNQQyxlQUFlLEVBSWhCOztJQUNDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRSxHQUFHaEIsaURBQVVBLENBQUNNLDhEQUFXQTtJQUM1RCxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2tCLEtBQUtDLE9BQU8sR0FBR25CLCtDQUFRQSxDQUFDO0lBQy9CLE1BQU0sQ0FBQ29CLFNBQVNDLFdBQVcsR0FBR3JCLCtDQUFRQSxDQUFDO0lBRXZDLE1BQU1zQixnQkFBZ0JyQixrREFBV0EsQ0FBQztZQUFPc0IsK0VBQWM7UUFDckQsSUFBSUEsYUFBYUYsV0FBVztRQUU1QixJQUFJO1lBQ0YsSUFBSUwsVUFBVTtZQUNkLE9BQVFMLFFBQVFGLE9BQU87Z0JBQ3JCLEtBQUs7b0JBQ0gsSUFBSUksUUFBUTt3QkFDVixNQUFNVyxjQUFjLE1BQU1YLE9BQU9ZLFVBQVUsQ0FBQ2QsUUFBUWUsRUFBRTt3QkFDdERWLFVBQVVkLDhDQUFLQSxDQUFDeUIsTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQ0osYUFBYTtvQkFDdkQ7b0JBQ0E7Z0JBQ0YsS0FBSztvQkFDSCxJQUFJVixVQUFVO3dCQUNaLE1BQU1lLGFBQWEsTUFBTWYsU0FBU1csVUFBVSxDQUFDZCxRQUFRZSxFQUFFO3dCQUN2RFYsVUFBVWEsV0FBV0MsUUFBUTtvQkFDL0I7b0JBQ0E7Z0JBQ0YsS0FBSztvQkFDSCxJQUFJZixTQUFTO3dCQUNYLE1BQU1nQixhQUFhLE1BQU1oQixRQUFRVSxVQUFVLENBQUNkLFFBQVFlLEVBQUU7d0JBQ3REVixVQUFVZSxXQUFXRCxRQUFRO29CQUMvQjtvQkFDQTtZQUNKO1lBQ0FiLFdBQVdEO1FBQ2IsRUFBRSxPQUFPZ0IsT0FBTztZQUNkQyxRQUFRQyxJQUFJLENBQUNGO1FBQ2YsU0FBVTtZQUNSWCxXQUFXO1FBQ2I7SUFDRixHQUFHO1FBQUNWO1FBQVNFO1FBQVFDO1FBQVVDO0tBQVE7SUFFdkNqQixnREFBU0EsQ0FBQztRQUNSd0IsY0FBYztRQUNkLE1BQU1hLFdBQVdDLFlBQVlkLGVBQWU7UUFDNUMsT0FBTyxJQUFNZSxjQUFjRjtJQUM3QixHQUFHO1FBQUNiO0tBQWM7SUFFbEJ4QixnREFBU0EsQ0FBQztRQUNSLElBQUlrQixZQUFZLElBQUk7UUFDcEIsTUFBTXNCLFNBQVMsR0FBb0I5QixPQUFqQkYsbURBQWNBLEVBQTJDVSxPQUF4Q1IsU0FBU0csUUFBUUYsT0FBTyxHQUFFLGdCQUFzQixPQUFSTztRQUMzRXVCLE1BQU1ELFFBQ0hFLElBQUksQ0FBQyxDQUFDQyxXQUFhQSxTQUFTQyxJQUFJLElBQ2hDRixJQUFJLENBQUMsQ0FBQ0c7WUFDTCxJQUFJQSxLQUFLQyxNQUFNLEtBQUssV0FBVztnQkFDN0IsTUFBTUMsZUFBZUMsV0FBV0gsS0FBS0ksR0FBRyxFQUFFQyxPQUFPLENBQUM7Z0JBQ2xEZixRQUFRZ0IsR0FBRyxDQUFDSjtnQkFDWjFCLE9BQU8wQjtZQUNULE9BQU87Z0JBQ0wxQixPQUFPO1lBQ1Q7WUFDQVAsZ0JBQWdCRCxRQUFRZSxFQUFFLEVBQUVpQixLQUFLSSxHQUFHO1FBQ3RDLEdBQ0NHLEtBQUssQ0FBQyxJQUFNL0IsT0FBTztJQUN4QixHQUFHO1FBQUNIO0tBQVE7SUFFWixxQkFDRSw4REFBQ21DO1FBQUlDLFdBQVdoRCxvRUFBYzs7MEJBQzVCLDhEQUFDRCxrREFBS0E7Z0JBQUNpRCxXQUFXaEQsaUVBQVc7Z0JBQUVrRCxLQUFLLElBQW9CLE9BQWhCM0MsUUFBUUYsT0FBTyxFQUFDO2dCQUFPOEMsS0FBSzVDLFFBQVFGLE9BQU87Z0JBQUUrQyxPQUFNO2dCQUFLQyxRQUFPOzs7Ozs7MEJBQ3ZHLDhEQUFDTjtnQkFBSUMsV0FBV2hELHdFQUFrQjs7a0NBQ2hDLDhEQUFDdUQ7d0JBQUVQLFdBQVdoRCx3RUFBa0I7OzBDQUM5Qiw4REFBQ3lEO2dDQUFLVCxXQUFXaEQsK0VBQXlCOzBDQUN2Q08sUUFBUUYsT0FBTyxLQUFLLFNBQVNFLFFBQVFlLEVBQUUsR0FBR2YsUUFBUW9ELElBQUk7Ozs7Ozs0QkFFeERwRCxRQUFRRixPQUFPLEtBQUssd0JBQVUsOERBQUNvRDtnQ0FBS1QsV0FBV2hELGlGQUEyQjswQ0FBR0csdURBQVdBLENBQUNJLFFBQVFlLEVBQUU7Ozs7Ozs7Ozs7OztrQ0FFdEcsOERBQUNpQzt3QkFBRVAsV0FBV2hELG9FQUFjO2tDQUFHTyxRQUFRRixPQUFPOzs7Ozs7Ozs7Ozs7MEJBRWhELDhEQUFDMEM7Z0JBQUlDLFdBQVcsR0FBbUNoQyxPQUFoQ2hCLGtGQUE0QixFQUFDLEtBQXdCLE9BQXJCZ0IsV0FBVzs7b0JBQzNELENBQUNBLHlCQUFXLDhEQUFDdUM7d0JBQUVQLFdBQVdoRCwyRUFBcUI7a0NBQUdZOzs7Ozs7b0JBQ2xELENBQUNJLHlCQUFXLDhEQUFDdUM7d0JBQUVQLFdBQVdoRCx1RUFBaUI7a0NBQUcsT0FBVyxPQUFKYzs7Ozs7O2tDQUN0RCw4REFBQzJDO3dCQUFLVCxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJeEIsRUFBRTtHQXhGVzFDO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvYWNjb3VudC50c3g/MWJiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwibmVhci1hcGktanNcIjtcbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiO1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL2FjY291bnQubW9kdWxlLmNzc1wiO1xuaW1wb3J0IHsgTmVhckNvbnRleHQgfSBmcm9tIFwiQC9jb250ZXh0L25lYXItY29udGV4dFwiO1xuaW1wb3J0IHsgQWNjb3VudCB9IGZyb20gXCJAL2NvbnRleHQvYWNjb3VudHMtcmVkdWNlci1jb250ZXh0XCI7XG5pbXBvcnQgeyBGaWF0Q29udmVydEFQSSB9IGZyb20gXCJAL2NvbmZpZ1wiO1xuaW1wb3J0IHsgdHJpbUFkZHJlc3MgfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcblxuZnVuY3Rpb24gZ2V0VG9rZW4obmV0d29yazogc3RyaW5nKSB7XG4gIHN3aXRjaCAobmV0d29yaykge1xuICAgIGNhc2UgXCJldGhlcmV1bVwiOlxuICAgICAgcmV0dXJuIFwiRVRIXCI7XG4gICAgY2FzZSBcImJpdGNvaW5cIjpcbiAgICAgIHJldHVybiBcIkJUQ1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJORUFSXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEFjY291bnRWaWV3ID0gKHtcbiAgYWNjb3VudCxcbiAgb25CYWxhbmNlVXBkYXRlXG59IDoge1xuICBhY2NvdW50OiBBY2NvdW50O1xuICBvbkJhbGFuY2VVcGRhdGU6IChpZDogc3RyaW5nLCBiYWxhbmNlOiBzdHJpbmcpID0+IHZvaWQ7XG59KSA9PiB7XG4gIGNvbnN0IHsgd2FsbGV0LCBldGhlcmV1bSwgYml0Y29pbiB9ID0gdXNlQ29udGV4dChOZWFyQ29udGV4dCk7XG4gIGNvbnN0IFtiYWxhbmNlLCBzZXRCYWxhbmNlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdXNkLCBzZXRVc2RdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB1cGRhdGVCYWxhbmNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGluaXRpYWxMb2FkID0gZmFsc2UpID0+IHtcbiAgICBpZiAoaW5pdGlhbExvYWQpIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGxldCBiYWxhbmNlID0gXCJcIjtcbiAgICAgIHN3aXRjaCAoYWNjb3VudC5uZXR3b3JrKSB7XG4gICAgICAgIGNhc2UgXCJuZWFyXCI6XG4gICAgICAgICAgaWYgKHdhbGxldCkge1xuICAgICAgICAgICAgY29uc3QgbmVhckJhbGFuY2UgPSBhd2FpdCB3YWxsZXQuZ2V0QmFsYW5jZShhY2NvdW50LmlkKTtcbiAgICAgICAgICAgIGJhbGFuY2UgPSB1dGlscy5mb3JtYXQuZm9ybWF0TmVhckFtb3VudChuZWFyQmFsYW5jZSwgNCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZXRoZXJldW1cIjpcbiAgICAgICAgICBpZiAoZXRoZXJldW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV0aEJhbGFuY2UgPSBhd2FpdCBldGhlcmV1bS5nZXRCYWxhbmNlKGFjY291bnQuaWQpO1xuICAgICAgICAgICAgYmFsYW5jZSA9IGV0aEJhbGFuY2UudG9TdHJpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJiaXRjb2luXCI6XG4gICAgICAgICAgaWYgKGJpdGNvaW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGJ0Y0JhbGFuY2UgPSBhd2FpdCBiaXRjb2luLmdldEJhbGFuY2UoYWNjb3VudC5pZCk7XG4gICAgICAgICAgICBiYWxhbmNlID0gYnRjQmFsYW5jZS50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNldEJhbGFuY2UoYmFsYW5jZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2FjY291bnQsIHdhbGxldCwgZXRoZXJldW0sIGJpdGNvaW5dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZUJhbGFuY2UodHJ1ZSk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVCYWxhbmNlLCA1MDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFt1cGRhdGVCYWxhbmNlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmFsYW5jZSA9PT0gXCJcIikgcmV0dXJuO1xuICAgIGNvbnN0IGFwaVVybCA9IGAke0ZpYXRDb252ZXJ0QVBJfSR7Z2V0VG9rZW4oYWNjb3VudC5uZXR3b3JrKX0vdXNkP2Ftb3VudD0ke2JhbGFuY2V9YDtcbiAgICBmZXRjaChhcGlVcmwpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRVc2QgPSBwYXJzZUZsb2F0KGRhdGEuVVNEKS50b0ZpeGVkKDIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm1hdHRlZFVzZClcbiAgICAgICAgICBzZXRVc2QoZm9ybWF0dGVkVXNkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFVzZChcIjBcIik7XG4gICAgICAgIH1cbiAgICAgICAgb25CYWxhbmNlVXBkYXRlKGFjY291bnQuaWQsIGRhdGEuVVNEKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gc2V0VXNkKFwiMFwiKSk7XG4gIH0sIFtiYWxhbmNlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmFjY291bnR9PlxuICAgICAgPEltYWdlIGNsYXNzTmFtZT17c3R5bGVzLmxvZ299IHNyYz17YC8ke2FjY291bnQubmV0d29ya30uc3ZnYH0gYWx0PXthY2NvdW50Lm5ldHdvcmt9IHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmFjY291bnRJbmZvfT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtzdHlsZXMuYWNjb3VudE5hbWV9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmFjY291bnROYW1lUHJpbWFyeX0+XG4gICAgICAgICAgICB7YWNjb3VudC5uZXR3b3JrID09PSBcIm5lYXJcIiA/IGFjY291bnQuaWQgOiBhY2NvdW50Lm5hbWV9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHthY2NvdW50Lm5ldHdvcmsgIT09IFwibmVhclwiICYmIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmFjY291bnROYW1lU2Vjb25kYXJ5fT57dHJpbUFkZHJlc3MoYWNjb3VudC5pZCl9PC9zcGFuPn1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzc05hbWU9e3N0eWxlcy5uZXR3b3JrfT57YWNjb3VudC5uZXR3b3JrfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy5hY2NvdW50QmFsYW5jZVdyYXBwZXJ9ICR7bG9hZGluZyAmJiAnbG9hZGluZyd9YH0+XG4gICAgICAgIHshbG9hZGluZyAmJiA8cCBjbGFzc05hbWU9e3N0eWxlcy5hY2NvdW50QmFsYW5jZX0+e2JhbGFuY2V9PC9wPn1cbiAgICAgICAgeyFsb2FkaW5nICYmIDxwIGNsYXNzTmFtZT17c3R5bGVzLmFjY291bnRVc2R9PntgVVNEICR7dXNkfWB9PC9wPn1cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Bpbm5lclwiPjwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTsiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1dGlscyIsIkltYWdlIiwic3R5bGVzIiwiTmVhckNvbnRleHQiLCJGaWF0Q29udmVydEFQSSIsInRyaW1BZGRyZXNzIiwiZ2V0VG9rZW4iLCJuZXR3b3JrIiwiQWNjb3VudFZpZXciLCJhY2NvdW50Iiwib25CYWxhbmNlVXBkYXRlIiwid2FsbGV0IiwiZXRoZXJldW0iLCJiaXRjb2luIiwiYmFsYW5jZSIsInNldEJhbGFuY2UiLCJ1c2QiLCJzZXRVc2QiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInVwZGF0ZUJhbGFuY2UiLCJpbml0aWFsTG9hZCIsIm5lYXJCYWxhbmNlIiwiZ2V0QmFsYW5jZSIsImlkIiwiZm9ybWF0IiwiZm9ybWF0TmVhckFtb3VudCIsImV0aEJhbGFuY2UiLCJ0b1N0cmluZyIsImJ0Y0JhbGFuY2UiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJhcGlVcmwiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwiZm9ybWF0dGVkVXNkIiwicGFyc2VGbG9hdCIsIlVTRCIsInRvRml4ZWQiLCJsb2ciLCJjYXRjaCIsImRpdiIsImNsYXNzTmFtZSIsImxvZ28iLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImFjY291bnRJbmZvIiwicCIsImFjY291bnROYW1lIiwic3BhbiIsImFjY291bnROYW1lUHJpbWFyeSIsIm5hbWUiLCJhY2NvdW50TmFtZVNlY29uZGFyeSIsImFjY291bnRCYWxhbmNlV3JhcHBlciIsImFjY291bnRCYWxhbmNlIiwiYWNjb3VudFVzZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/account/account.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/context/near-context.ts":
/*!*************************************!*\
  !*** ./src/context/near-context.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NearContext: function() { return /* binding */ NearContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_ethereum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ethereum */ \"(app-pages-browser)/./src/lib/ethereum.ts\");\n/* harmony import */ var _lib_bitcoin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/bitcoin */ \"(app-pages-browser)/./src/lib/bitcoin.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/config */ \"(app-pages-browser)/./src/config.ts\");\n\n\n\n\n/**\n * @typedef NearContext\n * @property {import(\"./wallets/near\").Wallet} wallet Current wallet\n * @property {string} signedAccountId The AccountId of the signed user\n */ /** @type {import (\"react\").Context<NearContext>} */ const NearContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    wallet: undefined,\n    signedAccountId: \"\",\n    ethereum: new _lib_ethereum__WEBPACK_IMPORTED_MODULE_1__.Ethereum(_config__WEBPACK_IMPORTED_MODULE_3__.EthereumRpcUrl, _config__WEBPACK_IMPORTED_MODULE_3__.EthereumChainId),\n    bitcoin: new _lib_bitcoin__WEBPACK_IMPORTED_MODULE_2__.Bitcoin(_config__WEBPACK_IMPORTED_MODULE_3__.BitcoinRpcUrl, _config__WEBPACK_IMPORTED_MODULE_3__.BitcoinNetwork)\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb250ZXh0L25lYXItY29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0M7QUFFSTtBQUNGO0FBQ2tEO0FBUzFGOzs7O0NBSUMsR0FDRCxrREFBa0QsR0FDM0MsTUFBTU8sY0FBY1Asb0RBQWFBLENBQXVCO0lBQzdEUSxRQUFRQztJQUNSQyxpQkFBaUI7SUFDakJDLFVBQVUsSUFBSVYsbURBQVFBLENBQUNLLG1EQUFjQSxFQUFFRCxvREFBZUE7SUFDdERPLFNBQVMsSUFBSVYsaURBQU9BLENBQUNFLGtEQUFhQSxFQUFFRCxtREFBY0E7QUFDcEQsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29udGV4dC9uZWFyLWNvbnRleHQudHM/OTgzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBXYWxsZXQgfSBmcm9tIFwiQC9saWIvbmVhclwiO1xuaW1wb3J0IHsgRXRoZXJldW0gfSBmcm9tIFwiQC9saWIvZXRoZXJldW1cIjtcbmltcG9ydCB7IEJpdGNvaW4gfSBmcm9tIFwiQC9saWIvYml0Y29pblwiO1xuaW1wb3J0IHsgQml0Y29pbk5ldHdvcmssIEJpdGNvaW5ScGNVcmwsIEV0aGVyZXVtQ2hhaW5JZCwgRXRoZXJldW1ScGNVcmwgfSBmcm9tIFwiQC9jb25maWdcIjtcblxuaW50ZXJmYWNlIE5lYXJDb250ZXh0SW50ZXJmYWNlIHtcbiAgd2FsbGV0PzogV2FsbGV0IHwgdW5kZWZpbmVkO1xuICBzaWduZWRBY2NvdW50SWQ6IHN0cmluZztcbiAgZXRoZXJldW06IEV0aGVyZXVtO1xuICBiaXRjb2luOiBCaXRjb2luO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIE5lYXJDb250ZXh0XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vd2FsbGV0cy9uZWFyXCIpLldhbGxldH0gd2FsbGV0IEN1cnJlbnQgd2FsbGV0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2lnbmVkQWNjb3VudElkIFRoZSBBY2NvdW50SWQgb2YgdGhlIHNpZ25lZCB1c2VyXG4gKi9cbi8qKiBAdHlwZSB7aW1wb3J0IChcInJlYWN0XCIpLkNvbnRleHQ8TmVhckNvbnRleHQ+fSAqL1xuZXhwb3J0IGNvbnN0IE5lYXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxOZWFyQ29udGV4dEludGVyZmFjZT4oe1xuICB3YWxsZXQ6IHVuZGVmaW5lZCxcbiAgc2lnbmVkQWNjb3VudElkOiBcIlwiLFxuICBldGhlcmV1bTogbmV3IEV0aGVyZXVtKEV0aGVyZXVtUnBjVXJsLCBFdGhlcmV1bUNoYWluSWQpLFxuICBiaXRjb2luOiBuZXcgQml0Y29pbihCaXRjb2luUnBjVXJsLCBCaXRjb2luTmV0d29yayksXG59KTsiXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsIkV0aGVyZXVtIiwiQml0Y29pbiIsIkJpdGNvaW5OZXR3b3JrIiwiQml0Y29pblJwY1VybCIsIkV0aGVyZXVtQ2hhaW5JZCIsIkV0aGVyZXVtUnBjVXJsIiwiTmVhckNvbnRleHQiLCJ3YWxsZXQiLCJ1bmRlZmluZWQiLCJzaWduZWRBY2NvdW50SWQiLCJldGhlcmV1bSIsImJpdGNvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/context/near-context.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/bitcoin.ts":
/*!****************************!*\
  !*** ./src/lib/bitcoin.ts ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bitcoin: function() { return /* binding */ Bitcoin; }\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/utils/data.js\");\n/* harmony import */ var bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bitcoinjs-lib */ \"(app-pages-browser)/./node_modules/bitcoinjs-lib/src/index.js\");\n/* harmony import */ var _lib_kdf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/kdf */ \"(app-pages-browser)/./src/lib/kdf.ts\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n\n\n\n\nclass Bitcoin {\n    async deriveAddress(accountId, derivation_path) {\n        const publicKey = await (0,_lib_kdf__WEBPACK_IMPORTED_MODULE_1__.deriveChildPublicKey)((0,_lib_kdf__WEBPACK_IMPORTED_MODULE_1__.najPublicKeyStrToUncompressedHexPoint)(), accountId, derivation_path);\n        const address = await (0,_lib_kdf__WEBPACK_IMPORTED_MODULE_1__.uncompressedHexPointToBtcAddress)(publicKey, this.network);\n        return {\n            publicKey: Buffer.from(publicKey, \"hex\"),\n            address\n        };\n    }\n    async getBalance(address) {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(this.chain_rpc, \"/address/\").concat(address, \"/utxo\"));\n        const balance = response.data.reduce((acc, utxo)=>acc + utxo.value, 0);\n        return balance;\n    }\n    trimAddress(address) {\n        return \"\".concat(address.slice(0, 6), \"...\").concat(address.slice(-4));\n    }\n    async createPayload(sender, receiver, satoshis) {\n        const utxos = await this.fetchUTXOs(sender);\n        const feeRate = await this.fetchFeeRate();\n        const psbt = new bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__.Psbt({\n            network: this.network\n        });\n        let totalInput = 0;\n        await Promise.all(utxos.map(async (utxo)=>{\n            totalInput += utxo.value;\n            const transaction = await this.fetchTransaction(utxo.txid);\n            const inputOptions = transaction.outs[utxo.vout].script.includes(\"0014\") ? {\n                hash: utxo.txid,\n                index: utxo.vout,\n                witnessUtxo: {\n                    script: transaction.outs[utxo.vout].script,\n                    value: utxo.value\n                }\n            } : {\n                hash: utxo.txid,\n                index: utxo.vout,\n                nonWitnessUtxo: Buffer.from(transaction.toHex(), \"hex\")\n            };\n            psbt.addInput(inputOptions);\n        }));\n        psbt.addOutput({\n            address: receiver,\n            value: Number(satoshis)\n        });\n        const estimatedSize = utxos.length * 148 + 2 * 34 + 10;\n        const fee = Math.ceil(estimatedSize * (feeRate + 3));\n        const change = totalInput - Number(satoshis) - fee;\n        if (change > 0) {\n            psbt.addOutput({\n                address: sender,\n                value: change\n            });\n        }\n        return {\n            psbt,\n            utxos\n        };\n    }\n    async requestSignatureToMPC(wallet, contractId, path, btcPayload, publicKey) {\n        const { psbt, utxos } = btcPayload;\n        // Bitcoin needs to sign multiple utxos, so we need to pass a signer function\n        const sign = async (tx)=>{\n            const payload = Array.from(ethers__WEBPACK_IMPORTED_MODULE_3__.getBytes(tx)).reverse();\n            const [big_r, big_s] = await wallet.callMethod({\n                contractId,\n                method: \"sign\",\n                args: {\n                    payload,\n                    path,\n                    key_version: 0\n                },\n                gas: \"250000000000000\"\n            });\n            return this.reconstructSignature(big_r, big_s);\n        };\n        await Promise.all(utxos.map(async (_, index)=>{\n            await psbt.signInputAsync(index, {\n                publicKey,\n                sign\n            });\n        }));\n        psbt.finalizeAllInputs();\n        return psbt.extractTransaction().toHex();\n    }\n    reconstructSignature(big_r, big_s) {\n        const r = big_r.slice(2).padStart(64, \"0\");\n        const s = big_s.padStart(64, \"0\");\n        const rawSignature = Buffer.from(r + s, \"hex\");\n        if (rawSignature.length !== 64) {\n            throw new Error(\"Invalid signature length.\");\n        }\n        return rawSignature;\n    }\n    // This code can be used to actually relay the transaction to the Ethereum network\n    async relayTransaction(signedTransaction) {\n        let useProxy = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n        const proxy = useProxy ? \"https://corsproxy.io/?\" : \"\";\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"\".concat(proxy).concat(this.chain_rpc, \"/tx\"), signedTransaction);\n        return response.data;\n    }\n    /**\n   * Converts a value from satoshis to bitcoins.\n   *\n   * @param {number} satoshi - The amount in satoshis to convert.\n   * @returns {number} The equivalent amount in bitcoins.\n   */ static toBTC(satoshi) {\n        return satoshi / 100000000;\n    }\n    /**\n   * Converts a value from bitcoins to satoshis.\n   *\n   * @param {number} btc - The amount in bitcoins to convert.\n   * @returns {number} The equivalent amount in satoshis.\n   */ static toSatoshi(btc) {\n        return Number(btc * 100000000);\n    }\n    /**\n   * Fetches the current fee rate from the Bitcoin network.\n   * This method queries the RPC endpoint for fee estimates and returns the fee rate\n   * expected for a transaction to be confirmed within a certain number of blocks.\n   * The confirmation target is set to 6 blocks by default, which is commonly used\n   * for a balance between confirmation time and cost.\n   *\n   * @returns {Promise<number>} A promise that resolves to the fee rate in satoshis per byte.\n   * @throws {Error} Throws an error if the fee rate data for the specified confirmation target is missing.\n   */ async fetchFeeRate() {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(this.chain_rpc, \"/fee-estimates\"));\n        const confirmationTarget = 6;\n        return response.data[confirmationTarget];\n    }\n    /**\n   * Fetches the Unspent Transaction Outputs (UTXOs) for a given Bitcoin address.\n   *\n   * @param {string} address - The Bitcoin address for which to fetch the UTXOs.\n   * @returns {Promise<Array<{ txid: string; vout: number; value: number }>>} A promise that resolves to an array of UTXOs.\n   * Each UTXO is represented as an object containing the transaction ID (`txid`), the output index within that transaction (`vout`),\n   * and the value of the output in satoshis (`value`).\n   */ async fetchUTXOs(address) {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(this.chain_rpc, \"/address/\").concat(address, \"/utxo\"));\n        const utxos = response.data.map((utxo)=>({\n                txid: utxo.txid,\n                vout: utxo.vout,\n                value: utxo.value,\n                script: utxo.script\n            }));\n        return utxos;\n    }\n    /**\n   * Fetches a Bitcoin transaction by its ID and constructs a transaction object.\n   * This function retrieves the transaction details from the blockchain using the RPC endpoint,\n   * then parses the input and output data to construct a `bitcoin.Transaction` object.\n   *\n   * @param {string} transactionId - The ID of the transaction to fetch.\n   * @returns {Promise<bitcoin.Transaction>} A promise that resolves to a `bitcoin.Transaction` object representing the fetched transaction.\n   */ async fetchTransaction(transactionId) {\n        const { data } = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"\".concat(this.chain_rpc, \"/tx/\").concat(transactionId));\n        const tx = new bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__.Transaction();\n        tx.version = data.version;\n        tx.locktime = data.locktime;\n        data.vin.forEach((vin)=>{\n            const txHash = Buffer.from(vin.txid, \"hex\").reverse();\n            const vout = vin.vout;\n            const sequence = vin.sequence;\n            const scriptSig = vin.scriptsig ? Buffer.from(vin.scriptsig, \"hex\") : undefined;\n            tx.addInput(txHash, vout, sequence, scriptSig);\n        });\n        data.vout.forEach((vout)=>{\n            const value = vout.value;\n            const scriptPubKey = Buffer.from(vout.scriptpubkey, \"hex\");\n            tx.addOutput(scriptPubKey, value);\n        });\n        data.vin.forEach((vin, index)=>{\n            if (vin.witness && vin.witness.length > 0) {\n                const witness = vin.witness.map((w)=>Buffer.from(w, \"hex\"));\n                tx.setWitness(index, witness);\n            }\n        });\n        return tx;\n    }\n    /**\n   * Initializes a new instance of the `Bitcoin` class.\n   *\n   * @param {string} chain_rpc - The URL of the Bitcoin Core RPC endpoint.\n   * @param {string} network - The network to use. Either \"mainnet\" or \"testnet\".\n   */ constructor(chain_rpc, network){\n        this.chain_rpc = chain_rpc;\n        this.network = network === \"testnet\" ? bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__.networks.testnet : bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__.networks.bitcoin;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNGO1FBRUEsT0FBTzdDO0lBQ1Q7SUFoT0E7Ozs7O0dBS0MsR0FDRGdELFlBQVluRyxTQUFpQixFQUFFTixPQUFlLENBQUU7UUFDOUMsSUFBSSxDQUFDTSxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ04sT0FBTyxHQUFHQSxZQUFZLFlBQVlWLG1EQUFnQixDQUFDcUgsT0FBTyxHQUFHckgsbURBQWdCLENBQUNBLE9BQU87SUFDNUY7QUF3TkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9iaXRjb2luLnRzPzkxODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCAqIGFzIGV0aGVycyBmcm9tICdldGhlcnMnO1xuaW1wb3J0ICogYXMgYml0Y29pbiBmcm9tIFwiYml0Y29pbmpzLWxpYlwiO1xuaW1wb3J0IHsgZGVyaXZlQ2hpbGRQdWJsaWNLZXksIG5halB1YmxpY0tleVN0clRvVW5jb21wcmVzc2VkSGV4UG9pbnQsIHVuY29tcHJlc3NlZEhleFBvaW50VG9CdGNBZGRyZXNzIH0gZnJvbSAnQC9saWIva2RmJztcblxuZXhwb3J0IGNsYXNzIEJpdGNvaW4ge1xuICBjaGFpbl9ycGM6IHN0cmluZztcbiAgbmV0d29yazogYml0Y29pbi5OZXR3b3JrO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGBCaXRjb2luYCBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYWluX3JwYyAtIFRoZSBVUkwgb2YgdGhlIEJpdGNvaW4gQ29yZSBSUEMgZW5kcG9pbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgdG8gdXNlLiBFaXRoZXIgXCJtYWlubmV0XCIgb3IgXCJ0ZXN0bmV0XCIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjaGFpbl9ycGM6IHN0cmluZywgbmV0d29yazogc3RyaW5nKSB7XG4gICAgdGhpcy5jaGFpbl9ycGMgPSBjaGFpbl9ycGM7XG4gICAgdGhpcy5uZXR3b3JrID0gbmV0d29yayA9PT0gJ3Rlc3RuZXQnID8gYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0IDogYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luO1xuICB9XG5cbiAgYXN5bmMgZGVyaXZlQWRkcmVzcyhhY2NvdW50SWQ6IHN0cmluZywgZGVyaXZhdGlvbl9wYXRoOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBhd2FpdCBkZXJpdmVDaGlsZFB1YmxpY0tleShuYWpQdWJsaWNLZXlTdHJUb1VuY29tcHJlc3NlZEhleFBvaW50KCksIGFjY291bnRJZCwgZGVyaXZhdGlvbl9wYXRoKTtcbiAgICBjb25zdCBhZGRyZXNzID0gYXdhaXQgdW5jb21wcmVzc2VkSGV4UG9pbnRUb0J0Y0FkZHJlc3MocHVibGljS2V5LCB0aGlzLm5ldHdvcmspO1xuICAgIHJldHVybiB7IHB1YmxpY0tleTogQnVmZmVyLmZyb20ocHVibGljS2V5LCAnaGV4JyksIGFkZHJlc3MgfTtcbiAgfVxuXG4gIGFzeW5jIGdldEJhbGFuY2UoYWRkcmVzczogYW55KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICBgJHt0aGlzLmNoYWluX3JwY30vYWRkcmVzcy8ke2FkZHJlc3N9L3V0eG9gXG4gICAgKTtcbiAgICBjb25zdCBiYWxhbmNlID0gcmVzcG9uc2UuZGF0YS5yZWR1Y2UoKGFjYzogYW55LCB1dHhvOiB7IHZhbHVlOiBhbnk7IH0pID0+IGFjYyArIHV0eG8udmFsdWUsIDApO1xuICAgIHJldHVybiBiYWxhbmNlO1xuICB9XG5cbiAgdHJpbUFkZHJlc3MoYWRkcmVzczogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke2FkZHJlc3Muc2xpY2UoMCwgNil9Li4uJHthZGRyZXNzLnNsaWNlKC00KX1gO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlUGF5bG9hZChzZW5kZXI6IGFueSwgcmVjZWl2ZXI6IGFueSwgc2F0b3NoaXM6IGFueSkge1xuICAgIGNvbnN0IHV0eG9zID0gYXdhaXQgdGhpcy5mZXRjaFVUWE9zKHNlbmRlcik7XG4gICAgY29uc3QgZmVlUmF0ZSA9IGF3YWl0IHRoaXMuZmV0Y2hGZWVSYXRlKCk7XG5cbiAgICBjb25zdCBwc2J0ID0gbmV3IGJpdGNvaW4uUHNidCh7IG5ldHdvcms6IHRoaXMubmV0d29yayB9KTtcblxuICAgIGxldCB0b3RhbElucHV0ID0gMDtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHV0eG9zLm1hcChcbiAgICAgICAgYXN5bmMgKHV0eG86IHsgdmFsdWU6IG51bWJlcjsgdHhpZDogc3RyaW5nOyB2b3V0OiBzdHJpbmcgfCBudW1iZXI7IH0pID0+IHtcbiAgICAgICAgICB0b3RhbElucHV0ICs9IHV0eG8udmFsdWU7XG5cbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHRoaXMuZmV0Y2hUcmFuc2FjdGlvbih1dHhvLnR4aWQpO1xuICAgICAgICAgIGNvbnN0IGlucHV0T3B0aW9ucyA9IHRyYW5zYWN0aW9uLm91dHNbdXR4by52b3V0IGFzIG51bWJlcl0uc2NyaXB0LmluY2x1ZGVzKFwiMDAxNFwiKSA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhhc2g6IHV0eG8udHhpZCxcbiAgICAgICAgICAgICAgaW5kZXg6IHV0eG8udm91dCBhcyBudW1iZXIsXG4gICAgICAgICAgICAgIHdpdG5lc3NVdHhvOiB7XG4gICAgICAgICAgICAgICAgc2NyaXB0OiB0cmFuc2FjdGlvbi5vdXRzW3V0eG8udm91dCBhcyBudW1iZXJdLnNjcmlwdCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdXR4by52YWx1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBoYXNoOiB1dHhvLnR4aWQsXG4gICAgICAgICAgICAgIGluZGV4OiB1dHhvLnZvdXQgYXMgbnVtYmVyLFxuICAgICAgICAgICAgICBub25XaXRuZXNzVXR4bzogQnVmZmVyLmZyb20odHJhbnNhY3Rpb24udG9IZXgoKSwgXCJoZXhcIiksXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBwc2J0LmFkZElucHV0KGlucHV0T3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgKTtcblxuICAgIHBzYnQuYWRkT3V0cHV0KHtcbiAgICAgIGFkZHJlc3M6IHJlY2VpdmVyLFxuICAgICAgdmFsdWU6IE51bWJlcihzYXRvc2hpcyksXG4gICAgfSk7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTaXplID0gdXR4b3MubGVuZ3RoICogMTQ4ICsgMiAqIDM0ICsgMTA7XG4gICAgY29uc3QgZmVlID0gTWF0aC5jZWlsKGVzdGltYXRlZFNpemUgKiAoZmVlUmF0ZSArIDMpKTtcblxuICAgIGNvbnN0IGNoYW5nZSA9IHRvdGFsSW5wdXQgLSBOdW1iZXIoc2F0b3NoaXMpIC0gZmVlO1xuICAgIGlmIChjaGFuZ2UgPiAwKSB7XG4gICAgICBwc2J0LmFkZE91dHB1dCh7XG4gICAgICAgIGFkZHJlc3M6IHNlbmRlcixcbiAgICAgICAgdmFsdWU6IGNoYW5nZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7IHBzYnQsIHV0eG9zIH07XG4gIH1cblxuICBhc3luYyByZXF1ZXN0U2lnbmF0dXJlVG9NUEMod2FsbGV0OiB7IGNhbGxNZXRob2Q6IChhcmcwOiB7IGNvbnRyYWN0SWQ6IGFueTsgbWV0aG9kOiBzdHJpbmc7IGFyZ3M6IHsgcGF5bG9hZDogbnVtYmVyW107IHBhdGg6IGFueTsga2V5X3ZlcnNpb246IG51bWJlcjsgfTsgZ2FzOiBzdHJpbmc7IH0pID0+IFByb21pc2VMaWtlPFthbnksIGFueV0+IHwgW2FueSwgYW55XTsgfSwgY29udHJhY3RJZDogYW55LCBwYXRoOiBhbnksIGJ0Y1BheWxvYWQ6IHsgcHNidDogYW55OyB1dHhvczogYW55OyB9LCBwdWJsaWNLZXk6IGFueSkge1xuICAgIGNvbnN0IHsgcHNidCwgdXR4b3MgfSA9IGJ0Y1BheWxvYWQ7XG5cbiAgICAvLyBCaXRjb2luIG5lZWRzIHRvIHNpZ24gbXVsdGlwbGUgdXR4b3MsIHNvIHdlIG5lZWQgdG8gcGFzcyBhIHNpZ25lciBmdW5jdGlvblxuICAgIGNvbnN0IHNpZ24gPSBhc3luYyAodHg6IGV0aGVycy5ldGhlcnMuQnl0ZXNMaWtlKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gQXJyYXkuZnJvbShldGhlcnMuZ2V0Qnl0ZXModHgpKS5yZXZlcnNlKCk7XG4gICAgICBjb25zdCBbYmlnX3IsIGJpZ19zXSA9IGF3YWl0IHdhbGxldC5jYWxsTWV0aG9kKHsgY29udHJhY3RJZCwgbWV0aG9kOiAnc2lnbicsIGFyZ3M6IHsgcGF5bG9hZCwgcGF0aCwga2V5X3ZlcnNpb246IDAgfSwgZ2FzOiAnMjUwMDAwMDAwMDAwMDAwJyB9KTtcbiAgICAgIHJldHVybiB0aGlzLnJlY29uc3RydWN0U2lnbmF0dXJlKGJpZ19yLCBiaWdfcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB1dHhvcy5tYXAoYXN5bmMgKF86IGFueSwgaW5kZXg6IGFueSkgPT4ge1xuICAgICAgICBhd2FpdCBwc2J0LnNpZ25JbnB1dEFzeW5jKGluZGV4LCB7IHB1YmxpY0tleSwgc2lnbiB9KTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHBzYnQuZmluYWxpemVBbGxJbnB1dHMoKTtcblxuICAgIHJldHVybiBwc2J0LmV4dHJhY3RUcmFuc2FjdGlvbigpLnRvSGV4KClcbiAgfVxuXG4gIHJlY29uc3RydWN0U2lnbmF0dXJlKGJpZ19yOiBzdHJpbmcsIGJpZ19zOiBzdHJpbmcpIHtcbiAgICBjb25zdCByID0gYmlnX3Iuc2xpY2UoMikucGFkU3RhcnQoNjQsIFwiMFwiKTtcbiAgICBjb25zdCBzID0gYmlnX3MucGFkU3RhcnQoNjQsIFwiMFwiKTtcblxuICAgIGNvbnN0IHJhd1NpZ25hdHVyZSA9IEJ1ZmZlci5mcm9tKHIgKyBzLCBcImhleFwiKTtcblxuICAgIGlmIChyYXdTaWduYXR1cmUubGVuZ3RoICE9PSA2NCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYXR1cmUgbGVuZ3RoLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmF3U2lnbmF0dXJlO1xuICB9XG5cbiAgLy8gVGhpcyBjb2RlIGNhbiBiZSB1c2VkIHRvIGFjdHVhbGx5IHJlbGF5IHRoZSB0cmFuc2FjdGlvbiB0byB0aGUgRXRoZXJldW0gbmV0d29ya1xuICBhc3luYyByZWxheVRyYW5zYWN0aW9uKHNpZ25lZFRyYW5zYWN0aW9uOiBhbnksIHVzZVByb3h5ID0gdHJ1ZSkge1xuICAgIGNvbnN0IHByb3h5ID0gdXNlUHJveHkgPyBcImh0dHBzOi8vY29yc3Byb3h5LmlvLz9cIiA6IFwiXCI7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXG4gICAgICBgJHtwcm94eX0ke3RoaXMuY2hhaW5fcnBjfS90eGAsXG4gICAgICBzaWduZWRUcmFuc2FjdGlvblxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIHZhbHVlIGZyb20gc2F0b3NoaXMgdG8gYml0Y29pbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzYXRvc2hpIC0gVGhlIGFtb3VudCBpbiBzYXRvc2hpcyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZXF1aXZhbGVudCBhbW91bnQgaW4gYml0Y29pbnMuXG4gICAqL1xuICBzdGF0aWMgdG9CVEMoc2F0b3NoaTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHNhdG9zaGkgLyAxMDAwMDAwMDA7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSB2YWx1ZSBmcm9tIGJpdGNvaW5zIHRvIHNhdG9zaGlzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYnRjIC0gVGhlIGFtb3VudCBpbiBiaXRjb2lucyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZXF1aXZhbGVudCBhbW91bnQgaW4gc2F0b3NoaXMuXG4gICAqL1xuICBzdGF0aWMgdG9TYXRvc2hpKGJ0YzogbnVtYmVyKSB7XG4gICAgcmV0dXJuIE51bWJlcihidGMgKiAxMDAwMDAwMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIGN1cnJlbnQgZmVlIHJhdGUgZnJvbSB0aGUgQml0Y29pbiBuZXR3b3JrLlxuICAgKiBUaGlzIG1ldGhvZCBxdWVyaWVzIHRoZSBSUEMgZW5kcG9pbnQgZm9yIGZlZSBlc3RpbWF0ZXMgYW5kIHJldHVybnMgdGhlIGZlZSByYXRlXG4gICAqIGV4cGVjdGVkIGZvciBhIHRyYW5zYWN0aW9uIHRvIGJlIGNvbmZpcm1lZCB3aXRoaW4gYSBjZXJ0YWluIG51bWJlciBvZiBibG9ja3MuXG4gICAqIFRoZSBjb25maXJtYXRpb24gdGFyZ2V0IGlzIHNldCB0byA2IGJsb2NrcyBieSBkZWZhdWx0LCB3aGljaCBpcyBjb21tb25seSB1c2VkXG4gICAqIGZvciBhIGJhbGFuY2UgYmV0d2VlbiBjb25maXJtYXRpb24gdGltZSBhbmQgY29zdC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGZlZSByYXRlIGluIHNhdG9zaGlzIHBlciBieXRlLlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBmZWUgcmF0ZSBkYXRhIGZvciB0aGUgc3BlY2lmaWVkIGNvbmZpcm1hdGlvbiB0YXJnZXQgaXMgbWlzc2luZy5cbiAgICovXG4gIGFzeW5jIGZldGNoRmVlUmF0ZSgpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHt0aGlzLmNoYWluX3JwY30vZmVlLWVzdGltYXRlc2ApO1xuICAgIGNvbnN0IGNvbmZpcm1hdGlvblRhcmdldCA9IDY7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFbY29uZmlybWF0aW9uVGFyZ2V0XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSBVbnNwZW50IFRyYW5zYWN0aW9uIE91dHB1dHMgKFVUWE9zKSBmb3IgYSBnaXZlbiBCaXRjb2luIGFkZHJlc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzIC0gVGhlIEJpdGNvaW4gYWRkcmVzcyBmb3Igd2hpY2ggdG8gZmV0Y2ggdGhlIFVUWE9zLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTx7IHR4aWQ6IHN0cmluZzsgdm91dDogbnVtYmVyOyB2YWx1ZTogbnVtYmVyIH0+Pn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgVVRYT3MuXG4gICAqIEVhY2ggVVRYTyBpcyByZXByZXNlbnRlZCBhcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgdHJhbnNhY3Rpb24gSUQgKGB0eGlkYCksIHRoZSBvdXRwdXQgaW5kZXggd2l0aGluIHRoYXQgdHJhbnNhY3Rpb24gKGB2b3V0YCksXG4gICAqIGFuZCB0aGUgdmFsdWUgb2YgdGhlIG91dHB1dCBpbiBzYXRvc2hpcyAoYHZhbHVlYCkuXG4gICAqL1xuICBhc3luYyBmZXRjaFVUWE9zKGFkZHJlc3M6IGFueSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgYCR7dGhpcy5jaGFpbl9ycGN9L2FkZHJlc3MvJHthZGRyZXNzfS91dHhvYFxuICAgICk7XG5cbiAgICBjb25zdCB1dHhvcyA9IHJlc3BvbnNlLmRhdGEubWFwKCh1dHhvOiB7IHR4aWQ6IGFueTsgdm91dDogYW55OyB2YWx1ZTogYW55OyBzY3JpcHQ6IGFueTsgfSkgPT4gKHtcbiAgICAgIHR4aWQ6IHV0eG8udHhpZCxcbiAgICAgIHZvdXQ6IHV0eG8udm91dCxcbiAgICAgIHZhbHVlOiB1dHhvLnZhbHVlLFxuICAgICAgc2NyaXB0OiB1dHhvLnNjcmlwdCxcbiAgICB9KSk7XG4gICAgcmV0dXJuIHV0eG9zO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgYSBCaXRjb2luIHRyYW5zYWN0aW9uIGJ5IGl0cyBJRCBhbmQgY29uc3RydWN0cyBhIHRyYW5zYWN0aW9uIG9iamVjdC5cbiAgICogVGhpcyBmdW5jdGlvbiByZXRyaWV2ZXMgdGhlIHRyYW5zYWN0aW9uIGRldGFpbHMgZnJvbSB0aGUgYmxvY2tjaGFpbiB1c2luZyB0aGUgUlBDIGVuZHBvaW50LFxuICAgKiB0aGVuIHBhcnNlcyB0aGUgaW5wdXQgYW5kIG91dHB1dCBkYXRhIHRvIGNvbnN0cnVjdCBhIGBiaXRjb2luLlRyYW5zYWN0aW9uYCBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2FjdGlvbklkIC0gVGhlIElEIG9mIHRoZSB0cmFuc2FjdGlvbiB0byBmZXRjaC5cbiAgICogQHJldHVybnMge1Byb21pc2U8Yml0Y29pbi5UcmFuc2FjdGlvbj59IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgYGJpdGNvaW4uVHJhbnNhY3Rpb25gIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGZldGNoZWQgdHJhbnNhY3Rpb24uXG4gICAqL1xuICBhc3luYyBmZXRjaFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQ6IGFueSkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgYCR7dGhpcy5jaGFpbl9ycGN9L3R4LyR7dHJhbnNhY3Rpb25JZH1gXG4gICAgKTtcbiAgICBjb25zdCB0eCA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uKCk7XG5cbiAgICB0eC52ZXJzaW9uID0gZGF0YS52ZXJzaW9uO1xuICAgIHR4LmxvY2t0aW1lID0gZGF0YS5sb2NrdGltZTtcblxuICAgIGRhdGEudmluLmZvckVhY2goKHZpbjogeyB0eGlkOiBXaXRoSW1wbGljaXRDb2VyY2lvbjxzdHJpbmc+IHwgeyBbU3ltYm9sLnRvUHJpbWl0aXZlXShoaW50OiBcInN0cmluZ1wiKTogc3RyaW5nOyB9OyB2b3V0OiBhbnk7IHNlcXVlbmNlOiBhbnk7IHNjcmlwdHNpZzogV2l0aEltcGxpY2l0Q29lcmNpb248c3RyaW5nPiB8IHsgW1N5bWJvbC50b1ByaW1pdGl2ZV0oaGludDogXCJzdHJpbmdcIik6IHN0cmluZzsgfTsgfSkgPT4ge1xuICAgICAgY29uc3QgdHhIYXNoID0gQnVmZmVyLmZyb20odmluLnR4aWQsIFwiaGV4XCIpLnJldmVyc2UoKTtcbiAgICAgIGNvbnN0IHZvdXQgPSB2aW4udm91dDtcbiAgICAgIGNvbnN0IHNlcXVlbmNlID0gdmluLnNlcXVlbmNlO1xuICAgICAgY29uc3Qgc2NyaXB0U2lnID0gdmluLnNjcmlwdHNpZ1xuICAgICAgICA/IEJ1ZmZlci5mcm9tKHZpbi5zY3JpcHRzaWcsIFwiaGV4XCIpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgdHguYWRkSW5wdXQodHhIYXNoLCB2b3V0LCBzZXF1ZW5jZSwgc2NyaXB0U2lnKTtcbiAgICB9KTtcblxuICAgIGRhdGEudm91dC5mb3JFYWNoKCh2b3V0OiB7IHZhbHVlOiBhbnk7IHNjcmlwdHB1YmtleTogV2l0aEltcGxpY2l0Q29lcmNpb248c3RyaW5nPiB8IHsgW1N5bWJvbC50b1ByaW1pdGl2ZV0oaGludDogXCJzdHJpbmdcIik6IHN0cmluZzsgfTsgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSB2b3V0LnZhbHVlO1xuICAgICAgY29uc3Qgc2NyaXB0UHViS2V5ID0gQnVmZmVyLmZyb20odm91dC5zY3JpcHRwdWJrZXksIFwiaGV4XCIpO1xuICAgICAgdHguYWRkT3V0cHV0KHNjcmlwdFB1YktleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgZGF0YS52aW4uZm9yRWFjaCgodmluOiB7IHdpdG5lc3M6IGFueVtdOyB9LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAodmluLndpdG5lc3MgJiYgdmluLndpdG5lc3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB3aXRuZXNzID0gdmluLndpdG5lc3MubWFwKCh3OiBXaXRoSW1wbGljaXRDb2VyY2lvbjxzdHJpbmc+IHwgeyBbU3ltYm9sLnRvUHJpbWl0aXZlXShoaW50OiBcInN0cmluZ1wiKTogc3RyaW5nOyB9KSA9PiBCdWZmZXIuZnJvbSh3LCBcImhleFwiKSk7XG4gICAgICAgIHR4LnNldFdpdG5lc3MoaW5kZXgsIHdpdG5lc3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHR4O1xuICB9XG59Il0sIm5hbWVzIjpbImF4aW9zIiwiZXRoZXJzIiwiYml0Y29pbiIsImRlcml2ZUNoaWxkUHVibGljS2V5IiwibmFqUHVibGljS2V5U3RyVG9VbmNvbXByZXNzZWRIZXhQb2ludCIsInVuY29tcHJlc3NlZEhleFBvaW50VG9CdGNBZGRyZXNzIiwiQml0Y29pbiIsImRlcml2ZUFkZHJlc3MiLCJhY2NvdW50SWQiLCJkZXJpdmF0aW9uX3BhdGgiLCJwdWJsaWNLZXkiLCJhZGRyZXNzIiwibmV0d29yayIsIkJ1ZmZlciIsImZyb20iLCJnZXRCYWxhbmNlIiwicmVzcG9uc2UiLCJnZXQiLCJjaGFpbl9ycGMiLCJiYWxhbmNlIiwiZGF0YSIsInJlZHVjZSIsImFjYyIsInV0eG8iLCJ2YWx1ZSIsInRyaW1BZGRyZXNzIiwic2xpY2UiLCJjcmVhdGVQYXlsb2FkIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJzYXRvc2hpcyIsInV0eG9zIiwiZmV0Y2hVVFhPcyIsImZlZVJhdGUiLCJmZXRjaEZlZVJhdGUiLCJwc2J0IiwiUHNidCIsInRvdGFsSW5wdXQiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwidHJhbnNhY3Rpb24iLCJmZXRjaFRyYW5zYWN0aW9uIiwidHhpZCIsImlucHV0T3B0aW9ucyIsIm91dHMiLCJ2b3V0Iiwic2NyaXB0IiwiaW5jbHVkZXMiLCJoYXNoIiwiaW5kZXgiLCJ3aXRuZXNzVXR4byIsIm5vbldpdG5lc3NVdHhvIiwidG9IZXgiLCJhZGRJbnB1dCIsImFkZE91dHB1dCIsIk51bWJlciIsImVzdGltYXRlZFNpemUiLCJsZW5ndGgiLCJmZWUiLCJNYXRoIiwiY2VpbCIsImNoYW5nZSIsInJlcXVlc3RTaWduYXR1cmVUb01QQyIsIndhbGxldCIsImNvbnRyYWN0SWQiLCJwYXRoIiwiYnRjUGF5bG9hZCIsInNpZ24iLCJ0eCIsInBheWxvYWQiLCJBcnJheSIsImdldEJ5dGVzIiwicmV2ZXJzZSIsImJpZ19yIiwiYmlnX3MiLCJjYWxsTWV0aG9kIiwibWV0aG9kIiwiYXJncyIsImtleV92ZXJzaW9uIiwiZ2FzIiwicmVjb25zdHJ1Y3RTaWduYXR1cmUiLCJfIiwic2lnbklucHV0QXN5bmMiLCJmaW5hbGl6ZUFsbElucHV0cyIsImV4dHJhY3RUcmFuc2FjdGlvbiIsInIiLCJwYWRTdGFydCIsInMiLCJyYXdTaWduYXR1cmUiLCJFcnJvciIsInJlbGF5VHJhbnNhY3Rpb24iLCJzaWduZWRUcmFuc2FjdGlvbiIsInVzZVByb3h5IiwicHJveHkiLCJwb3N0IiwidG9CVEMiLCJzYXRvc2hpIiwidG9TYXRvc2hpIiwiYnRjIiwiY29uZmlybWF0aW9uVGFyZ2V0IiwidHJhbnNhY3Rpb25JZCIsIlRyYW5zYWN0aW9uIiwidmVyc2lvbiIsImxvY2t0aW1lIiwidmluIiwiZm9yRWFjaCIsInR4SGFzaCIsInNlcXVlbmNlIiwic2NyaXB0U2lnIiwic2NyaXB0c2lnIiwidW5kZWZpbmVkIiwic2NyaXB0UHViS2V5Iiwic2NyaXB0cHVia2V5Iiwid2l0bmVzcyIsInciLCJzZXRXaXRuZXNzIiwiY29uc3RydWN0b3IiLCJuZXR3b3JrcyIsInRlc3RuZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/bitcoin.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trimAddress: function() { return /* binding */ trimAddress; }\n/* harmony export */ });\nfunction trimAddress(address) {\n    return \"\".concat(address.slice(0, 6), \"...\").concat(address.slice(-4));\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLFNBQVNBLFlBQVlDLE9BQWU7SUFDekMsT0FBTyxHQUE0QkEsT0FBekJBLFFBQVFDLEtBQUssQ0FBQyxHQUFHLElBQUcsT0FBdUIsT0FBbEJELFFBQVFDLEtBQUssQ0FBQyxDQUFDO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvdXRpbHMudHM/N2MxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gdHJpbUFkZHJlc3MoYWRkcmVzczogc3RyaW5nKSB7XG4gIHJldHVybiBgJHthZGRyZXNzLnNsaWNlKDAsIDYpfS4uLiR7YWRkcmVzcy5zbGljZSgtNCl9YDtcbn0iXSwibmFtZXMiOlsidHJpbUFkZHJlc3MiLCJhZGRyZXNzIiwic2xpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/utils.ts\n"));

/***/ })

});